<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>OH MY ATA!</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Jua&display=swap" rel="stylesheet">
    <style>
      @font-face {
        font-family: 'CookieRun-Regular';
        src: url('https://fastly.jsdelivr.net/gh/projectnoonnu/noonfonts_2001@1.1/CookieRun-Regular.woff') format('woff');
        font-weight: normal;
        font-style: normal;
      }
  
      body {
        font-family: 'CookieRun-Regular', sans-serif;
        color: #000;
      }

      /* ì²˜ìŒì—ëŠ” ê²Œì„ ì¸í„°ë™ì…˜ ì„¹ì…˜ ìˆ¨ê¹€ */
      #gameSection {
        display: none;
      }
    </style>
  </head>
  
<body class="bg-[#ffd139]">

  <!-- í—¤ë” -->
  <header class="flex items-center justify-between p-6 border-b border-black/20 uppercase tracking-wide text-sm">
    <div class="font-bold">OH MY ATA!</div>
    <nav class="space-x-6">
      <!-- í•„ìš”ì‹œ ì¶”ê°€ -->
    </nav>
  </header> 

  <!-- ë©”ì¸ ì„¤ëª… -->
  <section id="mainSection" class="text-center py-20 border-b border-black/20">
    <h1 class="text-6xl font-extrabold tracking-tight">OH MY ATA!</h1>
    <p class="mt-6 text-lg">ê¼¬ë§ˆ ë¬¼ê³ ê¸° ATAëŠ” ë‹¹ì‹ ì˜ ê·€ì—¬ìš´ í«ì…ë‹ˆë‹¤. ATAë¥¼ í‚¤ì›Œì£¼ì„¸ìš”!</p>
    <button id="startButton" class="mt-10 px-6 py-3 bg-[#ff167d] text-white text-sm font-bold uppercase rounded hover:scale-105 transition">
      Play Now
    </button>
  </section>

  <!-- ê²Œì„ ì •ë³´ -->
  <section id="infoSection" class="max-w-5xl mx-auto px-6 py-16 grid md:grid-cols-2 gap-6">
    <div>
      <img src="ataaa.jpg" alt="ATA ì²˜ìŒí™”ë©´" class="rounded-xl shadow-lg border-[#ff167d]">
    </div>
    <div class="space-y-6">
      <h2 class="text-2xl font-bold">ê²Œì„ ì†Œê°œ</h2>
      &nbsp;
      <p style="line-height:.4; margin-bottom:1rem;">
        ë¨¹ì´ë¥¼ ì£¼ë©´ ë°©ê¸‹, ì´ë¦„ì„ ë¶€ë¥´ë©´ í´ì§!
      </p>
      <p style="line-height:.4; margin-bottom:1rem;">
        ì„¸ìƒì—ì„œ ì œì¼ ì‚¬ë‘ìŠ¤ëŸ¬ìš´ ê¼¬ë§ˆ ë¬¼ê³ ê¸° ATAê°€
      </p>
      <p style="line-height:.4; margin-bottom:1rem;">
        ë‹¹ì‹ ì˜ ì§€ì¹œ í•˜ë£¨ì— ì‚´í¬ì‹œ ë‹¤ê°€ê°‘ë‹ˆë‹¤. 
      </p>
      <p style="line-height:.4; margin-bottom:1rem;">
        <span style="color:#ff167d;">ê°„ë‹¨í•œ í„°ì¹˜</span>ë§Œìœ¼ë¡œ ê¸ˆë°© ì¹œêµ¬ê°€ ë  ìˆ˜ ìˆì–´ìš”!
      </p>
      <p style="line-height:.4; margin-bottom:1rem;">
        ì‘ê³  ê·€ì—¬ìš´ í«ê³¼ í•¨ê»˜í•˜ëŠ” í¬ê·¼í•œ íë§â€”ì§€ê¸ˆ ì‹œì‘í•´ìš”!
      </p>
    </div>
  </section>

  <!-- ê²Œì„ ì¸í„°ë™ì…˜ -->
  <section id="gameSection" class="text-center py-10">
    <img id="ataImage" src="ataaa.jpg" alt="ATA" class="mx-auto w-40 h-40 mb-4 rounded-full border shadow">
    <div id="dialogue" class="text-xl font-bold mb-4"></div>
    <button id="nextButton" class="px-4 py-2 bg-[#ff167d] text-white text-sm font-bold rounded hover:scale-105 transition">í™•ì¸</button>
    <button id="feedButton" class="mt-4 px-4 py-2 bg-[#00b894] text-white text-sm font-bold rounded hover:scale-105 transition" style="display:none;">ë¨¹ì´ ì£¼ê¸°</button>
    <div class="mt-6 w-64 mx-auto">
      <div class="text-sm font-bold text-left mb-1">ATAì™€ì˜ ì¹œë°€ë„</div>
      <div class="w-full bg-white rounded-full h-4 border border-black/30 overflow-hidden">
        <div id="affectionBar" class="bg-[#ff167d] h-full w-0 transition-all duration-500"></div>
      </div>
    </div>
  </section>

  <!-- ì €ì‘ê¶Œ -->
  <footer class="text-xs text-black/70 py-8 text-center border-t border-black/20">
    &copy; 2025 Lee Eun Young. All rights reserved.
  </footer>

  <script>
    const startButton = document.getElementById('startButton');
    const mainSection = document.getElementById('mainSection');
    const infoSection = document.getElementById('infoSection');
    const gameSection = document.getElementById('gameSection');
    const ataImage = document.getElementById('ataImage');
    const dialogue = document.getElementById('dialogue');
    const nextButton = document.getElementById('nextButton');
    const feedButton = document.getElementById('feedButton');
    const affectionBar = document.getElementById('affectionBar');

    const messages = [
      "ì•ˆë…•! ë‚˜ëŠ” ATAì•¼. ë„ ê¸°ë‹¤ë¦¬ê³  ìˆì—ˆì–´.",
      "ë‚  í‚¤ì›Œì¤„ ìˆ˜ ìˆì„ê¹Œ? ë¨¹ì´ë¥¼ ì£¼ë©´ ì •ë§ ê¸°ì  ê±°ì•¼!",
      "ATAê°€ ë‹¹ì‹ ì—ê²Œ ë” ê°€ê¹Œì›Œì¡Œì–´ìš”.",
      "ATAê°€ ë‹¹ì‹ ì—ê²Œ ì•Œë¦¼ì„ ë³´ë‚´ê³  ì‹¶ì–´í•´ìš”.",
      "ì•Œë¦¼ ê¶Œí•œì„ í—ˆìš©í•´ ì¤„ ìˆ˜ ìˆì„ê¹Œìš”?"
    ];

    const images = {
      default: "ataaa.jpg",
      happy: "https://i.imgur.com/JOJIQZL.png",
      suspicious: "https://i.imgur.com/BNWakUo.png"
    };

    let currentStep = 0;
    let affection = 0;

    startButton.addEventListener('click', () => {
      // ì²˜ìŒ í™”ë©´ê³¼ ê²Œì„ ì†Œê°œ ì„¹ì…˜ ìˆ¨ê¸°ê¸°
      mainSection.style.display = 'none';
      infoSection.style.display = 'none';
      document.querySelector('footer').style.display = 'none';

      // ê²Œì„ ì¸í„°ë™ì…˜ í™”ë©´ ë³´ì´ê¸°
      gameSection.style.display = 'block';

      // ëŒ€ì‚¬ ì´ˆê¸°í™”
      dialogue.textContent = messages[currentStep];
    });

    nextButton.addEventListener('click', () => {
      if (currentStep === 1) {
        nextButton.style.display = 'none';
        feedButton.style.display = 'inline-block';
        return;
      }
      currentStep++;
      updateDialogue();
    });

    feedButton.addEventListener('click', () => {
      affection += 50;
      affectionBar.style.width = affection + "%";
      dialogue.textContent = "ìš°ì™€, ë§›ìˆë‹¤! (ë°ì´í„°ê°€ ì „ì†¡ë˜ì—ˆìŠµë‹ˆë‹¤)";
      ataImage.src = images.happy;
      setTimeout(() => {
        ataImage.src = images.default;
        feedButton.style.display = 'none';
        nextButton.style.display = 'inline-block';
        currentStep++;
        updateDialogue();
      }, 2000);
    });

    function updateDialogue() {
      if (currentStep < messages.length) {
        dialogue.textContent = messages[currentStep];
        if (messages[currentStep].includes("ì•Œë¦¼ ê¶Œí•œ")) {
          ataImage.src = images.suspicious;
          requestNotificationPermission();
        } else {
          ataImage.src = images.default;
        }
      } else {
        dialogue.textContent = "ê²Œì„ì´ ê³§ ì‹œì‘ë©ë‹ˆë‹¤...";
        nextButton.disabled = true;
        nextButton.classList.add('opacity-50', 'cursor-not-allowed');
      }
    }

    function requestNotificationPermission() {
      if (Notification && Notification.permission !== "granted") {
        Notification.requestPermission().then(permission => {
          if (permission === "granted") {
            new Notification("ATAê°€ ì¸ì‚¬ë¥¼ ë³´ëƒˆì–´ìš”! ğŸŸ");
          }
        });
      }
    }
  </script>

</body>
</html>
